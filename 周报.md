

## 2022

### 四月

2022年4月2周报

一、本周进展/完成

1、完成掉电记忆模式和空闲动作写入配置；

2、循环任务取消信号量修改，区域扫描下降梯度计算；

3、修复bug，熟悉VISCA协议；

二、下周计划

1、完善云台TODO；

2、修复bug，优化代码；

2022年4月9周报

一、本周进展/完成

1、优化预置点配置(根据使能，小于20按序排列）；

2、更改巡航组业务逻辑；

3、更改TODO状态，优化旧代码；

二、下周计划

1、VISCA协议实现，梳理云台业务流程图；

2、修复bug，优化锁的错误使用；

2022年4月15周报

一、本周进展/完成

1、完成visca协议数据结构和结构体定义；

2、完成visca协议变焦设置命令和查询命令；

3、完善visca协议变焦带参设置命令；

二、下周计划

1、完善visca协议聚焦、光圈等功能；

2、完成232串口命令的收发和寰宇设备是否支持visca协议；

2022年4月22周报

一、本周进展/完成

1、完成visca协议云台转动和预置点；

2、完善visca协议变焦、聚焦、光圈设置和查询等；

3、优化visca协议地址设置；

二、下周计划

1、完成visca协议白平衡、曝光、亮度设置和查询等；

2、完善visca协议，优化代码；

2022年4月29周报

一、本周进展/完成

1、☆【梳理云台业务流程图】；

2、完善visca协议变焦、聚焦、光圈设置和查询等；

3、优化visca协议地址设置；

二、下周计划

1、完成visca协议白平衡、曝光、亮度设置和查询等；

2、完善visca协议，优化代码；

### 三月

2022年3月4周报

一、本周进展/完成

1、与前端联调完成云台功能初版，ip192.168.1.113；

2、完成定时任务初版，优化旧代码；

3、完成云台恢复默认配置，修复巡航组bug；

二、下周计划

1、完成线性扫描、区域扫描、3D定位功能；

2、继续与前端联调，优化旧代码；

2022年3月12周报

一、本周进展/完成

1、完成线性扫描功能初版，区域扫描完成70%；

2、完成线扫、区域扫描恢复默认配置

3、优化线性扫描代码和修复bug；

二、下周计划

1、完善区域扫描，优化相关代码；

2、编写原点自动校准、上次位置、云台运行状态执行动作、超时操作代码；

3、阅读3D定位C语言代码和头文件；

2022年3月18周报

一、本周进展/完成

1、完成区域扫描（苹果皮），区域扫描和水平旋转超时处理；

2、完成原点设置、校准、自动校准；

3、修复bug，优化区域扫描模块；

二、下周计划

1、完善区域扫描火点报警和火点屏蔽区域；

2、修复bug，优化代码；

2022年3月26周报

一、本周进展/完成

1、完成区域扫描火点报警、居中和放大、屏蔽区域；

2、完成获取云台运行状态，区扫和线扫恢复默认配置，空闲动作和定时任务添加区扫；

3、优化旧代码；

二、下周计划

1、优化区域扫描火点报警和火点等待时间；

2、VISCA协议；

3、阅读3D定位C语言代码和头文件；

### 二月

2022年2月12周报

一、本周进展/完成

1、优化守望停止和守望联动巡航，优化坐标获取；

2、定时任务完成60%，编写定时任务相关接口；

3、添加删除全部预置点接口；

二、下周计划

1、完成定时任务模块；

2、编写开机动作和云台限位相关代码；

2022年2月18周报

一、本周进展/完成

1、完成开机动作和云台限位单击控制初版；

2、云台转动拆分为单击和连续转动，循环获取当前PTZ坐标；

3、优化定时任务部分代码；

二、下周计划

1、完成定时任务和云台限位模块；

2、优化配置文件，完成云台业务功能初版；

2022年2月26周报

一、本周进展/完成

1、完成云台水平和垂直限位功能；

2、优化坐标转换（接口响应时间20ms内）；

3、修复预置点bug，新增是否转到预置点查询接口；

二、下周计划

1、完善定时任务模块，优化配置文件；

2、与前端联调，3月5号前打出稳定的初步版本；

### 一月

2022年1月08周报

一、本周进展/完成

1、完成云台8个方位转动和预置点调试；

2、依据大华文档重新定义函数名、结构体；

3、修复485串口指令发送错误，优化旧代码；

二、下周计划

1、完善预置点和巡航组模块；

2、完善云台控制变倍聚焦光圈代码；

2022年1月14周报

一、本周进展/完成

1、完善预置点和优化坐标获取；

2、完成添加巡航组和巡航组开始，优化旧代码；

二、下周计划

1、完善巡航组模块，优化巡航组代码；

2、编写巡迹模块代码；

2022年1月22周报

一、本周进展/完成

1、完成巡迹模块和优化坐标获取；

2、守望（空闲动作）模块已完成预置点、巡航组、巡迹联动；

3、云台限位完成50% ；

二、下周计划

1、完善守望和云台限位模块；

2、完善预置点校准，云台自动聚焦；

3、优化守望停止，写入配置文件；

2022年1月28周报

一、本周进展/完成

1、完善守望模块联动和守望取消使能；

2、守望（空闲动作）模块已完成预置点、巡航组、巡迹联动；

3、云台限位完成50% ；

二、下周计划

1、

2、完善预置点校准，云台自动聚焦；

3、优化守望停止，写入配置文件；



## 2021

## 八月

2021年8月20日周报

一、本周进展/完成

1、编写注册模块digest授权代码
2、阅读GAT1400协议，学习digest授权加密
二、下周计划

1、完善注册模块代码
2、学习相关知识，编写保活、注销功能模块代码

2021年8月28日周报

一、本周进展/完成

1、封装注册、保活、注销模块（向视图库发送请求）
2、视图库人脸模块json数据接收和响应
二、下周计划

1、获取人脸数据信息发送视图库
2、完善公共模块和人脸模块代码

## 九月

2021年9月3日周报

一、本周进展/完成

1、完成人员、人脸、机动车、非机动车模块携带header和json向视图库发送请求
2、学习gorm，crud和根据结构体生成相应数据库表

3、学习NSQ（环境搭建和基本使用）

二、下周计划

1、获取采集数据信息存入mysql数据库
2、完善采集接口和采集数据查询

2021年9月11日周报

一、本周进展/完成

1、完成1400协议采集接口人脸7个接口的编写（GoFrame自带的ORM）
2、修复TPC-B2测试项目2个bug，与测试配合远程协助客户解决问题

3、学习NSQ（环境搭建和基本使用）

二、下周计划

1、修复TPC-B2测试项目bug
2、完善1400协议代码

## 十月

2021年10月9日周报

一、本周进展/完成

1、完成人脸接口的错误处理和数据校验，代码已提交
2、修复TPC-B2测试项目bug

二、下周计划

1、编写人员、机动车、非机动车接口代码
2、熟悉订阅通知和布控告警业务

2021年10月15日周报

一、本周进展/完成

1、完成1400协议人员、机动车接口代码
2、完成528项目获取所有温度的接口（包括整帧，点、线、区域）

3、熟悉VSR预警布防模块

二、下周计划

1、编写VSR预警布防模块相应代码
2、编写1400协议非机动车接口代码

2021年10月29日周报

一、本周进展/完成

1、1400协议订阅通知业务逻辑完成60%
2、优化1400人脸接口代码

二、下周计划

1、熟悉并完成528项目设备搜索组播新需求
2、完善1400协议订阅通知相关接口

## 十一月

2021年11月06周报

一、本周进展/完成

1、编写528项目添加/删除盲元接口
2、1400协议订阅通知业务逻辑完成75%

二、下周计划

1、熟悉并完成528项目固件升级新需求
2、完善盲元和1400协议订阅通知相关接口

2021年11月12周报

一、本周进展/完成

1、已完成1400协议订阅接口
2、已完成528项目盲元和指令透传接口

二、下周计划

1、完善数据推送接口
2、完善1400协议订阅通知相关接口

2021年11月20周报

一、本周进展/完成

1、528相机绊线和区域入侵人车过滤
2、人员订阅数据转化为1400协议格式

二、下周计划

1、优化1400协议相关接口代码
2、熟悉528相机代码

2021年11月26周报

一、本周进展/完成

1、优化528相机绊线和区域入侵人车过滤
2、优化1400采集接口相关代码

3、熟悉3516设备，阅读代码

二、下周计划

1、阅读528项目代码，完善TODO
2、熟悉云台串口指令集

## 十二月

2021年12月04周报

一、本周进展/完成

1、阅读528项目智能分析和测温模块代码

2、熟悉rtsp流程，阅读流媒体业务代码

二、下周计划

1、阅读528项目流媒体、录像抓图模块代码

2、优化完善528项目TODO

2021年12月10周报

一、本周进展/完成

1、优化智能分析TODO默认全天布防时不检查

2、完成组播固件升级和小端Header解析错误

3、测试组播功能，和客户沟通，定位并修复组播功能缺陷

二、下周计划

1、修复528项目缺陷

2、优化完善528项目TODO

3、周一周二熟悉云台相关业务

4、周三周四熟悉云台代码

2021年12月18周报

一、本周进展/完成

1、528项目完善组播设备查找 ；获取图片文件数据，data为base64。

2、熟悉云台相关业务，编写云台设置文档，阅读云台代码。

3、熟悉PELCOD和PELCOP协议，云台测试工具。

二、下周计划

1、RS485串口发送云台控制指令，PELCOD和PELCOP协议封装。

2、定义结构体，实现云台基础功能。

2021年12月24周报

一、本周进展/完成

1、总结PELCOD协议标准指令、拓展指令、高级功能指令

2、云台功能业务分解对应的指令。

二、下周计划

1、完善云台功能业务分解对应的指令。

2、定义头文件、函数名、结构体。

3、熟悉串口驱动。

2021年12月31周报

一、本周进展/完成

1、完成云台功能业务分解对应的指令。

2、完成定义头文件、函数名、结构体。

二、下周计划

1、编写云台业务相关代码。

2、熟悉串口驱动。

